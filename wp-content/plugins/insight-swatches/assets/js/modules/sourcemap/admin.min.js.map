{"version":3,"sources":["admin.js"],"names":["$","document","ready","file_frame_tm","wpColorPicker","jQuery","val","hide","on","event","preventDefault","wp","media","frames","downloadable_file","title","button","text","multiple","attachment","state","get","first","toJSON","id","find","attr","sizes","thumbnail","url","show","open","isw_vars","placeholder_img"],"mappings":"CAAA,SACAA,gBAEAA,EAAAC,UAAAC,MAAA,WAOA,IAAAC,EANAH,EAAA,aAAAI,gBAEA,KAAAC,OAAA,aAAAC,OACAD,OAAA,oBAAAE,OAIAF,OAAAJ,UAAAO,GAAA,QAAA,mBAAA,SAAAC,GACAA,EAAAC,iBAEAP,IAKAA,EAAAQ,GAAAC,MAAAC,OAAAC,kBAAAH,GAAAC,MAAA,CACAG,MAAA,kBACAC,OAAA,CACAC,KAAA,aAEAC,UAAA,KAGAV,GAAA,SAAA,WACA,IAAAW,EAAAhB,EAAAiB,QAAAC,IAAA,aAAAC,QAAAC,SACAlB,OAAA,aAAAC,IAAAa,EAAAK,IACAnB,OAAA,uBAAAoB,KAAA,OAAAC,KAAA,MAAAP,EAAAQ,MAAAC,UAAAC,KACAxB,OAAA,oBAAAyB,SAhBA3B,EAAA4B,SAqBA1B,OAAAJ,UAAAO,GAAA,QAAA,mBAAA,WAIA,OAHAH,OAAA,uBAAAoB,KAAA,OAAAC,KAAA,MAAAM,SAAAC,iBACA5B,OAAA,aAAAC,IAAA,IACAD,OAAA,oBAAAE,QACA,MAxCA,CA4CAF","file":"../../admin.min.js","sourcesContent":["(\n\tfunction( $ ) {\n\t\t\"use strict\";\n\t\t$( document ).ready( function() {\n\t\t\t$( '.sw_color' ).wpColorPicker();\n\t\t\t// Only show the \"remove image\" button when needed\n\t\t\tif ( '' === jQuery( '#sw_image' ).val() ) {\n\t\t\t\tjQuery( '#sw_remove_image' ).hide();\n\t\t\t}\n\t\t\t// Uploading files\n\t\t\tvar file_frame_tm;\n\t\t\tjQuery( document ).on( 'click', '#sw_upload_image', function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\t// If the media frame already exists, reopen it.\n\t\t\t\tif ( file_frame_tm ) {\n\t\t\t\t\tfile_frame_tm.open();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// Create the media frame.\n\t\t\t\tfile_frame_tm = wp.media.frames.downloadable_file = wp.media( {\n\t\t\t\t\ttitle: 'Choose an image',\n\t\t\t\t\tbutton: {\n\t\t\t\t\t\ttext: 'Use image'\n\t\t\t\t\t},\n\t\t\t\t\tmultiple: false\n\t\t\t\t} );\n\t\t\t\t// When an image is selected, run a callback.\n\t\t\t\tfile_frame_tm.on( 'select', function() {\n\t\t\t\t\tvar attachment = file_frame_tm.state().get( 'selection' ).first().toJSON();\n\t\t\t\t\tjQuery( '#sw_image' ).val( attachment.id );\n\t\t\t\t\tjQuery( '#sw_image_thumbnail' ).find( 'img' ).attr( 'src', attachment.sizes.thumbnail.url );\n\t\t\t\t\tjQuery( '#sw_remove_image' ).show();\n\t\t\t\t} );\n\t\t\t\t// Finally, open the modal.\n\t\t\t\tfile_frame_tm.open();\n\t\t\t} );\n\t\t\tjQuery( document ).on( 'click', '#sw_remove_image', function() {\n\t\t\t\tjQuery( '#sw_image_thumbnail' ).find( 'img' ).attr( 'src', isw_vars.placeholder_img );\n\t\t\t\tjQuery( '#sw_image' ).val( '' );\n\t\t\t\tjQuery( '#sw_remove_image' ).hide();\n\t\t\t\treturn false;\n\t\t\t} );\n\t\t} );\n\t}\n)( jQuery );"]}